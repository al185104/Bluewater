<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:Bluewater.App.Models"
             xmlns:controls="clr-namespace:Bluewater.App.Views.Controls"
             x:Class="Bluewater.App.Views.TimesheetDetailsView"
             x:Name="RootView">
    <controls:SlideInEditorView x:Name="EditorView"
                                Title="{Binding Source={x:Reference RootView}, Path=Title}"
                                IsOpen="{Binding Source={x:Reference RootView}, Path=IsOpen}"
                                PanelWidthRatio="0.6667"
                                UpdateCommand="{Binding Source={x:Reference RootView}, Path=UpdateCommand}"
                                UpdateCommandParameter="{Binding Source={x:Reference RootView}, Path=UpdateCommandParameter}"
                                UpdateButtonText="{Binding Source={x:Reference RootView}, Path=UpdateButtonText}"
                                IsUpdateEnabled="{Binding Source={x:Reference RootView}, Path=IsUpdateEnabled}"
                                CloseCommand="{Binding Source={x:Reference RootView}, Path=CloseCommand}"
                                CloseCommandParameter="{Binding Source={x:Reference RootView}, Path=CloseCommandParameter}">
        <controls:SlideInEditorView.EditorContent>
            <Grid Padding="0,0,12,24">
                <CollectionView ItemsSource="{Binding Source={x:Reference RootView}, Path=Timesheets}"
                                SelectionMode="None">
                    <CollectionView.ItemTemplate>
                        <DataTemplate x:DataType="models:EditableTimesheetEntry">
                            <Border StrokeThickness="1"
                                    Stroke="Transparent"
                                    BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#1F1F1F}"
                                    Padding="16,12"
                                    StrokeShape="RoundRectangle 12">
                                <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto"
                                      ColumnDefinitions="*,1.5*"
                                      RowSpacing="5"
                                      ColumnSpacing="20">
                                    <HorizontalStackLayout Margin="0,0,0,10"
                                                           Spacing="10">
                                        <Label Text="Entry Date"
                                               VerticalOptions="Center"
                                               FontAttributes="Bold" />
                                        <DatePicker Grid.Column="1"
                                                    Date="{Binding EntryDateDateTime}" />
                                    </HorizontalStackLayout>
                                    <Label Text="Time In 1 :"
                                           Grid.Row="1"
                                           HorizontalOptions="End"
                                           VerticalOptions="Start" />
                                    <TimePicker Time="{Binding TimeIn1Time}"
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Format="HH:mm" />
                                    <Label Text="Time Out 1 :"
                                           Grid.Row="2"
                                           HorizontalOptions="End"
                                           VerticalOptions="Start" />
                                    <TimePicker Time="{Binding TimeOut1Time}"
                                                Grid.Row="2"
                                                Grid.Column="1"
                                                Format="HH:mm" />
                                    <Label Text="Time In 2 :"
                                           Grid.Row="3"
                                           HorizontalOptions="End"
                                           VerticalOptions="Start" />
                                    <TimePicker Time="{Binding TimeIn2Time}"
                                                Grid.Row="3"
                                                Grid.Column="1"
                                                Format="HH:mm" />
                                    <Label Text="Time Out 2 :"
                                           Grid.Row="4"
                                           HorizontalOptions="End"
                                           VerticalOptions="Start" />
                                    <TimePicker Time="{Binding TimeOut2Time}"
                                                Grid.Row="4"
                                                Grid.Column="1"
                                                Format="HH:mm" />
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                    <CollectionView.EmptyView>
                        <VerticalStackLayout Padding="24"
                                             Spacing="8"
                                             HorizontalOptions="Center"
                                             VerticalOptions="Center">
                            <Label Text="Select an employee to edit timesheets."
                                   HorizontalTextAlignment="Center"
                                   FontAttributes="Bold" />
                            <Label Text="Timesheet entries will appear here once an employee is selected."
                                   HorizontalTextAlignment="Center"
                                   FontSize="12" />
                        </VerticalStackLayout>
                    </CollectionView.EmptyView>
                </CollectionView>
            </Grid>
        </controls:SlideInEditorView.EditorContent>
    </controls:SlideInEditorView>
</ContentView>
