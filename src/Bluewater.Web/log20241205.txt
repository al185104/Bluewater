2024-12-05 00:00:40.096 +08:00 [INF] Registered 18 endpoints in 155 milliseconds.
2024-12-05 00:00:40.408 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 00:00:40.525 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 00:00:40.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 00:00:40.761 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 00:00:40.761 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 00:00:40.761 +08:00 [INF] Hosting environment: Development
2024-12-05 00:00:40.761 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 00:00:40.992 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 00:00:41.011 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 19.7841ms
2024-12-05 00:00:41.019 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 00:00:41.091 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 72.4342ms
2024-12-05 00:00:41.194 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 00:00:41.198 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 00:00:41.398 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 204.287ms
2024-12-05 00:00:51.800 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json 116
2024-12-05 00:00:51.804 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:00:51.921 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 00:00:51.983 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 00:00:51.983 +08:00 [INF] Property EmpId : "56ec9e04-f1d4-450b-b910-c09a19ff2923"
2024-12-05 00:00:51.983 +08:00 [INF] Property EntryDate : "2024-12-04"
2024-12-05 00:00:52.008 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:00:52.009 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 25 ms
2024-12-05 00:00:52.009 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 00:00:52.009 +08:00 [INF] Property employeeId : "56ec9e04-f1d4-450b-b910-c09a19ff2923"
2024-12-05 00:00:52.009 +08:00 [INF] Property timeIn1 : "2024-12-04T16:00:45.6930000Z"
2024-12-05 00:00:52.010 +08:00 [INF] Property timeOut1 : null
2024-12-05 00:00:52.010 +08:00 [INF] Property timeIn2 : null
2024-12-05 00:00:52.010 +08:00 [INF] Property timeOut2 : null
2024-12-05 00:00:52.010 +08:00 [INF] Property entryDate : "2024-12-04"
2024-12-05 00:00:52.012 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:00:52.068 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 00:00:52.071 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 61 ms
2024-12-05 00:00:52.077 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:00:52.078 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 278.5549ms
2024-12-05 00:20:24.916 +08:00 [INF] Registered 18 endpoints in 167 milliseconds.
2024-12-05 00:20:25.227 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 00:20:25.318 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 00:20:25.376 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 00:20:25.487 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 00:20:25.487 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 00:20:25.487 +08:00 [INF] Hosting environment: Development
2024-12-05 00:20:25.487 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 00:20:26.446 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 00:20:26.464 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 18.9666ms
2024-12-05 00:20:26.471 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 00:20:26.528 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 57.2022ms
2024-12-05 00:20:26.710 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 00:20:26.712 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 00:20:26.900 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 189.533ms
2024-12-05 00:21:13.223 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 00:21:13.230 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:21:13.356 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 00:21:13.422 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 00:21:13.423 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 00:21:13.423 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 00:21:13.449 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:21:13.450 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 26 ms
2024-12-05 00:21:13.450 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 00:21:13.450 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 00:21:13.450 +08:00 [INF] Property timeIn1 : "2024-12-05T00:21:13.0408450+08:00"
2024-12-05 00:21:13.450 +08:00 [INF] Property timeOut1 : null
2024-12-05 00:21:13.450 +08:00 [INF] Property timeIn2 : null
2024-12-05 00:21:13.450 +08:00 [INF] Property timeOut2 : null
2024-12-05 00:21:13.450 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 00:21:13.452 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:21:33.646 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 00:21:33.647 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:21:33.657 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 00:21:33.661 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 00:21:33.661 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 00:21:33.661 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 00:21:33.663 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:21:33.663 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 1 ms
2024-12-05 00:21:33.663 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 00:21:33.663 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 00:21:33.664 +08:00 [INF] Property timeIn1 : "2024-12-05T00:21:32.3873980+08:00"
2024-12-05 00:21:33.664 +08:00 [INF] Property timeOut1 : null
2024-12-05 00:21:33.664 +08:00 [INF] Property timeIn2 : null
2024-12-05 00:21:33.664 +08:00 [INF] Property timeOut2 : null
2024-12-05 00:21:33.664 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 00:21:33.665 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 00:21:43.559 +08:00 [ERR] Failed executing DbCommand (30,047ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 00:21:43.568 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 00:21:43.570 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:21:43.572 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 00:21:43.580 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 30357.2275ms
2024-12-05 00:22:03.712 +08:00 [ERR] Failed executing DbCommand (30,043ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 00:22:03.732 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 00:22:03.733 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 00:22:03.733 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 00:22:03.736 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 30089.9243ms
2024-12-05 00:22:58.234 +08:00 [INF] Registered 18 endpoints in 285 milliseconds.
2024-12-05 00:22:58.585 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 00:22:58.678 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 00:22:58.748 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 00:22:58.889 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 00:22:58.889 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 00:22:58.889 +08:00 [INF] Hosting environment: Development
2024-12-05 00:22:58.889 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 00:22:59.151 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 00:22:59.172 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 21.5785ms
2024-12-05 00:22:59.182 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 00:22:59.234 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 52.1944ms
2024-12-05 00:22:59.389 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 00:22:59.442 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 00:22:59.671 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 281.9215ms
2024-12-05 21:33:26.744 +08:00 [INF] Registered 18 endpoints in 1,227 milliseconds.
2024-12-05 21:33:27.848 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 21:33:28.085 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 21:33:28.227 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 21:33:28.453 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 21:33:28.453 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 21:33:28.453 +08:00 [INF] Hosting environment: Development
2024-12-05 21:33:28.453 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 21:33:30.004 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 21:33:30.037 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 34.5884ms
2024-12-05 21:33:30.064 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 21:33:30.175 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 110.3066ms
2024-12-05 21:33:30.423 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 21:33:30.427 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 21:33:30.877 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 454.4269ms
2024-12-05 21:35:21.785 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 21:35:21.799 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:35:22.079 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 21:35:22.232 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 21:35:22.233 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:35:22.233 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 21:35:22.295 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:35:22.296 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 61 ms
2024-12-05 21:35:22.297 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 21:35:22.297 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:35:22.297 +08:00 [INF] Property timeIn1 : "2024-12-05T21:35:21.5431240+08:00"
2024-12-05 21:35:22.297 +08:00 [INF] Property timeOut1 : null
2024-12-05 21:35:22.297 +08:00 [INF] Property timeIn2 : null
2024-12-05 21:35:22.298 +08:00 [INF] Property timeOut2 : null
2024-12-05 21:35:22.298 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 21:35:22.302 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:35:41.621 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 106
2024-12-05 21:35:41.623 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:35:41.643 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 21:35:41.647 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 21:35:41.647 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:35:41.647 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 21:35:41.650 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:35:41.651 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 3 ms
2024-12-05 21:35:41.651 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 21:35:41.651 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:35:41.651 +08:00 [INF] Property timeIn1 : "2024-12-05T21:35:34.6777700+08:00"
2024-12-05 21:35:41.651 +08:00 [INF] Property timeOut1 : null
2024-12-05 21:35:41.651 +08:00 [INF] Property timeIn2 : null
2024-12-05 21:35:41.651 +08:00 [INF] Property timeOut2 : null
2024-12-05 21:35:41.652 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 21:35:41.653 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:35:52.494 +08:00 [ERR] Failed executing DbCommand (30,052ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 21:35:52.505 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 21:35:52.509 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:35:52.510 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 21:35:52.521 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 30736.7175ms
2024-12-05 21:36:11.707 +08:00 [ERR] Failed executing DbCommand (30,051ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 21:36:11.710 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 21:36:11.736 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:36:11.736 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 21:36:11.740 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 30118.4873ms
2024-12-05 21:39:49.539 +08:00 [INF] Registered 18 endpoints in 270 milliseconds.
2024-12-05 21:39:49.899 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 21:39:49.992 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 21:39:50.059 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 21:39:50.213 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 21:39:50.213 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 21:39:50.213 +08:00 [INF] Hosting environment: Development
2024-12-05 21:39:50.213 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 21:39:50.748 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 21:39:50.770 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 22.7663ms
2024-12-05 21:39:50.830 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 21:39:50.945 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 114.2318ms
2024-12-05 21:39:51.265 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 21:39:51.269 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 21:39:51.570 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 353.2559ms
2024-12-05 21:45:20.630 +08:00 [INF] Registered 18 endpoints in 261 milliseconds.
2024-12-05 21:45:21.001 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 21:45:21.092 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 21:45:21.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 21:45:21.294 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 21:45:21.294 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 21:45:21.294 +08:00 [INF] Hosting environment: Development
2024-12-05 21:45:21.294 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 21:45:21.524 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 21:45:21.545 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 21.1101ms
2024-12-05 21:45:21.555 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 21:45:21.604 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 49.8412ms
2024-12-05 21:45:21.764 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 21:45:21.769 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 21:45:21.969 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 204.472ms
2024-12-05 21:46:12.941 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 21:46:12.947 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:46:25.066 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 21:46:29.827 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 21:46:29.828 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:46:29.829 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 21:46:29.874 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:46:29.875 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 42 ms
2024-12-05 21:46:33.743 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 21:46:33.744 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:46:33.744 +08:00 [INF] Property timeIn1 : "2024-12-05T21:46:12.6968410+08:00"
2024-12-05 21:46:33.746 +08:00 [INF] Property timeOut1 : null
2024-12-05 21:46:33.746 +08:00 [INF] Property timeIn2 : null
2024-12-05 21:46:33.746 +08:00 [INF] Property timeOut2 : null
2024-12-05 21:46:33.746 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 21:46:33.749 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:47:03.880 +08:00 [ERR] Failed executing DbCommand (30,054ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 21:47:03.900 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 21:47:03.941 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:47:03.942 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 21:47:03.963 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 51021.69ms
2024-12-05 21:47:27.221 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 21:47:27.223 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:47:32.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 21:47:34.457 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 21:47:34.458 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:47:34.458 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 21:47:34.460 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:47:34.460 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 1 ms
2024-12-05 21:47:36.514 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 21:47:36.515 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:47:36.515 +08:00 [INF] Property timeIn1 : "2024-12-05T21:47:26.8224170+08:00"
2024-12-05 21:47:36.515 +08:00 [INF] Property timeOut1 : null
2024-12-05 21:47:36.515 +08:00 [INF] Property timeIn2 : null
2024-12-05 21:47:36.515 +08:00 [INF] Property timeOut2 : null
2024-12-05 21:47:36.515 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 21:47:36.517 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:48:06.569 +08:00 [ERR] Failed executing DbCommand (30,048ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 21:48:06.574 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Bluewater.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-12-05 21:48:06.611 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:48:06.612 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 5: 'database is locked'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Bluewater.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Infrastructure/Data/AppDbContext.cs:line 95
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.SaveChangesAsync(CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.AddAsync(T entity, CancellationToken cancellationToken)
   at Bluewater.UseCases.Timesheets.Create.CreateTimesheetHandler.Handle(CreateTimesheetCommand request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.UseCases/Timesheets/Create/CreateTimesheetHandler.cs:line 26
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Bluewater.Web.Timesheets.Create.HandleAsync(CreateTimesheetRequest request, CancellationToken cancellationToken) in /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web/Timesheets/Create.cs:line 52
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-12-05 21:48:06.635 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 500 null text/plain; charset=utf-8 39438.3129ms
2024-12-05 21:49:00.327 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 21:49:00.328 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:49:04.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 21:49:04.133 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 21:49:04.133 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:49:04.133 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 21:49:04.135 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:49:04.136 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 2 ms
2024-12-05 21:49:04.137 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 21:49:04.137 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 21:49:04.137 +08:00 [INF] Property timeIn1 : "2024-12-05T21:48:59.9953840+08:00"
2024-12-05 21:49:04.137 +08:00 [INF] Property timeOut1 : null
2024-12-05 21:49:04.137 +08:00 [INF] Property timeIn2 : null
2024-12-05 21:49:04.137 +08:00 [INF] Property timeOut2 : null
2024-12-05 21:49:04.137 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 21:49:04.138 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 21:49:04.140 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 21:49:04.147 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 10 ms
2024-12-05 21:49:26.785 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 21:49:26.786 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 26458.5585ms
2024-12-05 21:51:27.675 +08:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.UpdateConnectionState()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2024-12-05 21:51:27.678 +08:00 [ERR] Unhandled exception while processing 0HN8L6C8256GN.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
2024-12-05 23:27:35.312 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:27:35.317 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:27:35.349 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:27:35.353 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:27:35.354 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:27:35.354 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:27:35.357 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:27:35.366 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 11 ms
2024-12-05 23:27:35.366 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 23:27:35.366 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:27:35.366 +08:00 [INF] Property timeIn1 : "2024-12-05T23:27:34.7657810+08:00"
2024-12-05 23:27:35.366 +08:00 [INF] Property timeOut1 : null
2024-12-05 23:27:35.366 +08:00 [INF] Property timeIn2 : null
2024-12-05 23:27:35.366 +08:00 [INF] Property timeOut2 : null
2024-12-05 23:27:35.366 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:27:35.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:27:35.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:27:35.388 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 21 ms
2024-12-05 23:27:35.389 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:27:35.389 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 130.7595ms
2024-12-05 23:29:40.767 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:29:40.840 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:29:40.845 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:29:40.847 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:29:40.847 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:29:40.847 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:29:40.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:29:40.849 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 1 ms
2024-12-05 23:29:40.849 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 23:29:40.850 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:29:40.850 +08:00 [INF] Property timeIn1 : "2024-12-05T23:29:40.4187450+08:00"
2024-12-05 23:29:40.850 +08:00 [INF] Property timeOut1 : null
2024-12-05 23:29:40.850 +08:00 [INF] Property timeIn2 : null
2024-12-05 23:29:40.850 +08:00 [INF] Property timeOut2 : null
2024-12-05 23:29:40.850 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:29:40.851 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:29:40.853 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:29:40.854 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 3 ms
2024-12-05 23:29:40.855 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:29:40.855 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 132.2644ms
2024-12-05 23:36:39.031 +08:00 [INF] Registered 18 endpoints in 410 milliseconds.
2024-12-05 23:36:39.636 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 23:36:39.786 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 23:36:39.896 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 23:36:40.103 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 23:36:40.104 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 23:36:40.104 +08:00 [INF] Hosting environment: Development
2024-12-05 23:36:40.104 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 23:36:41.338 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 23:36:41.379 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 43.069ms
2024-12-05 23:36:41.392 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 23:36:41.482 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 89.4842ms
2024-12-05 23:36:41.715 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 23:36:41.747 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 23:36:42.144 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 428.7446ms
2024-12-05 23:43:14.421 +08:00 [INF] Registered 18 endpoints in 448 milliseconds.
2024-12-05 23:43:15.072 +08:00 [WRN] The entity type 'ContactInfo' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-12-05 23:43:15.231 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-12-05 23:43:15.347 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2024-12-05 23:43:15.566 +08:00 [INF] Now listening on: https://localhost:57679
2024-12-05 23:43:15.566 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-05 23:43:15.566 +08:00 [INF] Hosting environment: Development
2024-12-05 23:43:15.566 +08:00 [INF] Content root path: /Users/adrianllamido/Repo/Bluewater/src/Bluewater.Web
2024-12-05 23:43:16.405 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2024-12-05 23:43:16.445 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 41.6551ms
2024-12-05 23:43:16.459 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-12-05 23:43:16.539 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 79.7822ms
2024-12-05 23:43:16.715 +08:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-12-05 23:43:16.722 +08:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-12-05 23:43:17.166 +08:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 451.3112ms
2024-12-05 23:44:19.841 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:44:19.847 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:44:30.203 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:44:30.332 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:44:30.332 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:44:30.333 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:44:30.398 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:44:30.429 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 95 ms
2024-12-05 23:44:32.591 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 23:44:32.591 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:44:32.591 +08:00 [INF] Property timeIn1 : "2024-12-05T23:44:19.4865380+08:00"
2024-12-05 23:44:32.592 +08:00 [INF] Property timeOut1 : null
2024-12-05 23:44:32.592 +08:00 [INF] Property timeIn2 : null
2024-12-05 23:44:32.592 +08:00 [INF] Property timeOut2 : null
2024-12-05 23:44:32.592 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:44:32.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:44:32.697 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:44:32.707 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 114 ms
2024-12-05 23:44:40.559 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:44:40.569 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 20753.5702ms
2024-12-05 23:45:00.747 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:45:00.750 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:45:07.517 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:45:10.138 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:45:10.138 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:45:10.139 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:45:10.142 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:45:10.143 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 3 ms
2024-12-05 23:45:29.209 +08:00 [INF] Handling UpdateSingleTimesheetCommand
2024-12-05 23:45:29.210 +08:00 [INF] Property TimesheetId : "8f653bac-1de9-430d-904c-7c12932a7854"
2024-12-05 23:45:29.211 +08:00 [INF] Property EmployeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:45:29.211 +08:00 [INF] Property time : "2024-12-05T23:45:00.4952220+08:00"
2024-12-05 23:45:29.211 +08:00 [INF] Property input : "TimeOut1"
2024-12-05 23:45:29.211 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:45:29.216 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:45:29.220 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:45:29.222 +08:00 [INF] Handled UpdateSingleTimesheetCommand with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 10 ms
2024-12-05 23:45:32.570 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:45:32.572 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 31915.838ms
2024-12-05 23:48:20.322 +08:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.UpdateConnectionState()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2024-12-05 23:48:20.328 +08:00 [ERR] Unhandled exception while processing 0HN8L8E4BPE7S.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
2024-12-05 23:49:01.659 +08:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.UpdateConnectionState()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2024-12-05 23:49:01.668 +08:00 [ERR] Unhandled exception while processing 0HN8L8E4BPE7T.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
2024-12-05 23:50:51.403 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:50:51.405 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:51:11.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:51:13.862 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:51:13.862 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:51:13.862 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:51:13.866 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:51:13.867 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 4 ms
2024-12-05 23:51:19.846 +08:00 [INF] Handling UpdateSingleTimesheetCommand
2024-12-05 23:51:19.846 +08:00 [INF] Property TimesheetId : "8f653bac-1de9-430d-904c-7c12932a7854"
2024-12-05 23:51:19.846 +08:00 [INF] Property EmployeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:51:19.846 +08:00 [INF] Property time : "2024-12-05T23:50:51.0304520+08:00"
2024-12-05 23:51:19.847 +08:00 [INF] Property input : "TimeOut2"
2024-12-05 23:51:19.847 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:51:19.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:51:19.852 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:51:19.854 +08:00 [INF] Handled UpdateSingleTimesheetCommand with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 7 ms
2024-12-05 23:51:26.236 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:51:26.237 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 34834.6945ms
2024-12-05 23:52:53.521 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:52:53.524 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:52:57.240 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:52:57.243 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:52:57.243 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:52:57.244 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:52:57.256 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:52:57.260 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 16 ms
2024-12-05 23:52:57.261 +08:00 [INF] Handling CreateTimesheetCommand
2024-12-05 23:52:57.261 +08:00 [INF] Property employeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:52:57.261 +08:00 [INF] Property timeIn1 : "2024-12-05T23:52:53.2120630+08:00"
2024-12-05 23:52:57.261 +08:00 [INF] Property timeOut1 : null
2024-12-05 23:52:57.261 +08:00 [INF] Property timeIn2 : null
2024-12-05 23:52:57.261 +08:00 [INF] Property timeOut2 : null
2024-12-05 23:52:57.262 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:52:57.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:52:57.290 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Timesheets" ("Id", "CreateBy", "CreatedDate", "EmployeeId", "EntryDate", "IsEdited", "IsLocked", "TimeIn1", "TimeIn1Orig", "TimeIn2", "TimeIn2Orig", "TimeOut1", "TimeOut1Orig", "TimeOut2", "TimeOut2Orig", "UpdateBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-12-05 23:52:57.290 +08:00 [INF] Handled CreateTimesheetCommand with Ardalis.Result.Result`1[System.Guid] in 28 ms
2024-12-05 23:53:00.154 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:53:00.209 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 6680.1578ms
2024-12-05 23:53:27.143 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:53:27.144 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:53:27.149 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:53:27.151 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:53:27.151 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:53:27.151 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:53:27.152 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:53:27.153 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 1 ms
2024-12-05 23:53:27.154 +08:00 [INF] Handling UpdateSingleTimesheetCommand
2024-12-05 23:53:27.154 +08:00 [INF] Property TimesheetId : "bbb8f51e-9ad1-4f00-b2b7-4f18e21256fd"
2024-12-05 23:53:27.154 +08:00 [INF] Property EmployeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:53:27.154 +08:00 [INF] Property time : "2024-12-05T23:53:26.9099750+08:00"
2024-12-05 23:53:27.154 +08:00 [INF] Property input : "TimeOut1"
2024-12-05 23:53:27.155 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:53:27.156 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:53:27.159 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:53:27.160 +08:00 [INF] Handled UpdateSingleTimesheetCommand with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 4 ms
2024-12-05 23:53:27.160 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:53:27.160 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 17.04ms
2024-12-05 23:53:42.611 +08:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Timesheets - application/json; charset=utf-8 107
2024-12-05 23:53:42.654 +08:00 [INF] Executing endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:53:42.755 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo", "u"."Id", "u"."CreateBy", "u"."CreatedDate", "u"."Credential", "u"."IsGlobalSupervisor", "u"."PasswordHash", "u"."SupervisedGroup", "u"."UpdateBy", "u"."UpdatedDate", "u"."Username"
FROM "Employees" AS "e"
LEFT JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "u"."Id" IS NOT NULL AND lower("u"."Username") = @__ToLower_0
LIMIT 1
2024-12-05 23:53:42.755 +08:00 [INF] Handling GetTimesheetByEmpIdAndDateQuery
2024-12-05 23:53:42.755 +08:00 [INF] Property EmpId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:53:42.755 +08:00 [INF] Property EntryDate : "2024-12-05"
2024-12-05 23:53:42.756 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:53:42.756 +08:00 [INF] Handled GetTimesheetByEmpIdAndDateQuery with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 0 ms
2024-12-05 23:53:42.756 +08:00 [INF] Handling UpdateSingleTimesheetCommand
2024-12-05 23:53:42.756 +08:00 [INF] Property TimesheetId : "bbb8f51e-9ad1-4f00-b2b7-4f18e21256fd"
2024-12-05 23:53:42.756 +08:00 [INF] Property EmployeeId : "13f08987-052b-4f8f-9f9d-47aadd5c6789"
2024-12-05 23:53:42.756 +08:00 [INF] Property time : "2024-12-05T23:53:42.5369690+08:00"
2024-12-05 23:53:42.756 +08:00 [INF] Property input : "TimeOut2"
2024-12-05 23:53:42.756 +08:00 [INF] Property entryDate : "2024-12-05"
2024-12-05 23:53:42.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__empId_0='?' (DbType = Guid), @__entryDate_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreateBy", "t"."CreatedDate", "t"."EmployeeId", "t"."EntryDate", "t"."IsEdited", "t"."IsLocked", "t"."TimeIn1", "t"."TimeIn1Orig", "t"."TimeIn2", "t"."TimeIn2Orig", "t"."TimeOut1", "t"."TimeOut1Orig", "t"."TimeOut2", "t"."TimeOut2Orig", "t"."UpdateBy", "t"."UpdatedDate", "e"."Id", "e"."BloodType", "e"."ChargingId", "e"."CivilStatus", "e"."CreateBy", "e"."CreatedDate", "e"."DateOfBirth", "e"."FirstName", "e"."Gender", "e"."Height", "e"."ImageUrl", "e"."IsDeleted", "e"."LastName", "e"."LevelId", "e"."MiddleName", "e"."PayId", "e"."PositionId", "e"."Remarks", "e"."ServiceChargeId", "e"."Status", "e"."TypeId", "e"."UpdateBy", "e"."UpdatedDate", "e"."UserId", "e"."Weight", "e"."ContactInfo_Address", "e"."ContactInfo_AddressContact", "e"."ContactInfo_Email", "e"."ContactInfo_EmergencyContact", "e"."ContactInfo_FathersName", "e"."ContactInfo_MobileNoContact", "e"."ContactInfo_MobileNumber", "e"."ContactInfo_MothersMaidenName", "e"."ContactInfo_ProvincialAddress", "e"."ContactInfo_RelationshipContact", "e"."ContactInfo_TelNoContact", "e"."ContactInfo_TelNumber", "e"."EducationInfo_CourseGraduated", "e"."EducationInfo_EducationalAttainment", "e"."EducationInfo_UniversityGraduated", "e"."EmploymentInfo_BankAccount", "e"."EmploymentInfo_DateHired", "e"."EmploymentInfo_DateRegularized", "e"."EmploymentInfo_DateResigned", "e"."EmploymentInfo_DateTerminated", "e"."EmploymentInfo_HDMFNo", "e"."EmploymentInfo_HasServiceCharge", "e"."EmploymentInfo_PHICNo", "e"."EmploymentInfo_SSSNo", "e"."EmploymentInfo_TINNo"
FROM "Timesheets" AS "t"
INNER JOIN "Employees" AS "e" ON "t"."EmployeeId" = "e"."Id"
WHERE "t"."EmployeeId" = @__empId_0 AND "t"."EntryDate" = @__entryDate_1
LIMIT 1
2024-12-05 23:53:42.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Date), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Timesheets" SET "CreateBy" = @p0, "CreatedDate" = @p1, "EmployeeId" = @p2, "EntryDate" = @p3, "IsEdited" = @p4, "IsLocked" = @p5, "TimeIn1" = @p6, "TimeIn1Orig" = @p7, "TimeIn2" = @p8, "TimeIn2Orig" = @p9, "TimeOut1" = @p10, "TimeOut1Orig" = @p11, "TimeOut2" = @p12, "TimeOut2Orig" = @p13, "UpdateBy" = @p14, "UpdatedDate" = @p15
WHERE "Id" = @p16
RETURNING 1;
2024-12-05 23:53:42.758 +08:00 [INF] Handled UpdateSingleTimesheetCommand with Ardalis.Result.Result`1[Bluewater.UseCases.Timesheets.TimesheetDTO] in 1 ms
2024-12-05 23:53:42.758 +08:00 [INF] Executed endpoint 'HTTP: POST /Timesheets'
2024-12-05 23:53:42.758 +08:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Timesheets - 200 null application/json 147.4247ms
2024-12-05 23:55:27.580 +08:00 [ERR] Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteGoAwayAsync(Int32 lastStreamId, Http2ErrorCode errorCode)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.UpdateConnectionState()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
2024-12-05 23:55:27.585 +08:00 [ERR] Unhandled exception while processing 0HN8L8E4BPE80.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (14): Bad address
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2Connection.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Threading.Tasks.UnwrapPromise`1.TrySetFromTask(Task task, Boolean lookForOce)
   at System.Threading.Tasks.UnwrapPromise`1.Invoke(Task completingTask)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2FrameWriter.WriteToOutputPipe()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
