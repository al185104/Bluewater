@rendermode InteractiveServer
@attribute [Authorize]
@using System.ComponentModel;
@using System.Reflection;
@using Bluewater.Server.Global;
@using Bluewater.UseCases.Payrolls
@using Bluewater.UseCases.Shifts;
@inject IGlobalService GlobalService;

@implements IDialogContentComponent<PayrollDTO>

<FluentDialogBody>
    <FluentLabel>Name: @Content.Name</FluentLabel>
    <FluentLabel>End date: @Content.Date</FluentLabel>
    <FluentLabel>Basic pay: @Content.BasicPayAmount.ToString("N2")</FluentLabel>
    <FluentLabel>Semi-monthly income: @Content.LaborHoursIncome.ToString("N2")</FluentLabel>    

    <FluentSpacer/>

    <FluentStack Orientation="Orientation.Vertical" VerticalGap="10">
        @* earnings *@
        <FluentCard MinimalStyle="true" Style="height: auto;">
            <FluentGrid Spacing="1">
                @* title *@
                <FluentGridItem xs="4">
                    <FluentLabel Typo="Typography.H5">Earnings</FluentLabel>
                </FluentGridItem>
                <FluentGridItem Typo="Typography.H5" xs="4">
                    <FluentLabel Alignment="HorizontalAlignment.Center">Hours</FluentLabel>
                </FluentGridItem>    
                <FluentGridItem Typo="Typography.H5" xs="4">
                    <FluentLabel Alignment="HorizontalAlignment.End">Amount</FluentLabel>
                </FluentGridItem>   

                @* labor hours *@
                <FluentGridItem xs="4">
                    <FluentLabel>Labor Hours</FluentLabel>
                </FluentGridItem>
                <FluentGridItem xs="4">
                    <FluentLabel Alignment="HorizontalAlignment.Center">@Content.LaborHrs</FluentLabel>
                </FluentGridItem>
                <FluentGridItem xs="4">
                    <FluentLabel Alignment="HorizontalAlignment.End">@Content.LaborHoursIncome.ToString("N2")</FluentLabel>
                </FluentGridItem>

                @* restday *@
                @if(Content.RestDayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Rest day</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.RestDayHrs</FluentLabel>
                    </FluentGridItem>    
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.RestDayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* regular *@
                @if(Content.RegularHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Regular Holiday</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.RegularHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.RegularHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* special *@
                @if(Content.SpecialHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Special Holiday</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.SpecialHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.SpecialHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* overtime *@
                @if(Content.OvertimeHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Overtime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.OvertimeHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.OvertimeAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* night differential *@
                @if(Content.NightDiffHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Night Differential</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.NightDiffHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.NightDiffAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* night differential with overtime *@
                @if(Content.NightDiffOvertimeHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Night Diff with Overtime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.NightDiffOvertimeHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.NightDiffOvertimeAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* night differential on Regular holidays *@
                @if(Content.NightDiffRegularHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Night Diff on Regular Holidays</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.NightDiffRegularHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.NightDiffRegularHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* night differential on Special holidays *@
                @if(Content.NightDiffSpecialHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Night Diff on Special Holidays</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.NightDiffSpecialHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.NightDiffSpecialHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* overtime on Rest day *@
                @if(Content.OvertimeRestDayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Overtime on Rest day premium</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.OvertimeRestDayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.OvertimeRestDayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* overtime on Regular holidays *@
                @if(Content.OvertimeRegularHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Overtime on Regular Holidays</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.OvertimeRegularHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.OvertimeRegularHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* overtime on Special holidays *@
                @if(Content.OvertimeSpecialHolidayHrs != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Overtime on Special Holidays</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.OvertimeSpecialHolidayHrs</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.OvertimeSpecialHolidayAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }
            </FluentGrid>
        </FluentCard>

        @* other earnings *@
        <FluentCard MinimalStyle="true" Style="height: auto;">
            <FluentGrid Spacing="1">
                @* title *@
                <FluentGridItem xs="6">
                    <FluentLabel Typo="Typography.H5">Other Earnings</FluentLabel>
                </FluentGridItem>
                <FluentGridItem Typo="Typography.H5" xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">Amount</FluentLabel>
                </FluentGridItem>

                @* service charge *@
                @if(Content.SvcCharge != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Service Charge</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.SvcCharge.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* cost of living allowance *@
                @if(Content.CostOfLivingAllowanceAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Cost of Living Allowance</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.CostOfLivingAllowanceAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* monthly allowance *@
                @if(Content.MonthlyAllowanceAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Monthly Allowance</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.MonthlyAllowanceAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* salary underpayment *@
                @if(Content.SalaryUnderpaymentAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Salary Underpayment</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.SalaryUnderpaymentAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* refund absences *@
                @if(Content.RefundAbsencesAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Refund Absences</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.RefundAbsencesAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* refund undertime *@
                @if(Content.RefundUndertimeAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Refund Undertime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.RefundUndertimeAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* refund overtime *@
                @if(Content.RefundOvertimeAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Refund Overtime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.RefundOvertimeAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

            </FluentGrid>
        </FluentCard>

        @* constant deductions *@
        <FluentCard MinimalStyle="true" Style="height: auto;">
            <FluentGrid Spacing="1">
                <FluentGridItem xs="6">
                    <FluentLabel Typo="Typography.H5">Deductions</FluentLabel>
                </FluentGridItem>
                <FluentGridItem Typo="Typography.H5" xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">Amount</FluentLabel>
                </FluentGridItem>         

                @if(Content.SSSAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>SSS</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.SSSAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @if(Content.PagibigAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Pagibig</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.PagibigAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @if(Content.PhilhealthAmount != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Philhealth</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.PhilhealthAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @if(Content.UnionDues != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Union Dues</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.UnionDues.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @if(Content.TaxDeductions != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Tax Deduction</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.TaxDeductions.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

            </FluentGrid>
        </FluentCard>    

        @* variable deductions *@
        <FluentCard MinimalStyle="true" Style="height: auto;">
            <FluentGrid Spacing="1">
                <FluentGridItem xs="6">
                    <FluentLabel Typo="Typography.H5">Variable Deductions</FluentLabel>
                </FluentGridItem>
                <FluentGridItem Typo="Typography.H5" xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">Amount</FluentLabel>
                </FluentGridItem> 

                @if(Content.TotalLoanDeductions != 0) {
                    <FluentGridItem xs="6">
                        <FluentLabel>Loans</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="6">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.TotalLoanDeductions.ToString("N2")</FluentLabel>
                    </FluentGridItem>   
                }

                @* AbsencesAmount *@
                @if(Content.Absences != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Absences</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.Absences</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.AbsencesAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* LatesAmount *@
                @if(Content.Lates != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Lates</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.Lates</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.LatesAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* UndertimeAmount  *@
                @if(Content.Undertime != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Undertime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.Undertime</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.UndertimeAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }

                @* OverbreakAmount *@
                @if(Content.Overbreak != 0) {
                    <FluentGridItem xs="4">
                        <FluentLabel>Overbreak</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.Center">@Content.Overbreak</FluentLabel>
                    </FluentGridItem>
                    <FluentGridItem xs="4">
                        <FluentLabel Alignment="HorizontalAlignment.End">@Content.OverbreakAmount.ToString("N2")</FluentLabel>
                    </FluentGridItem>
                }
                
                </FluentGrid>
        </FluentCard>    

        @* net pay *@
        <FluentCard MinimalStyle="true" Style="height: auto;">
            <FluentGrid Spacing="1">
                <FluentGridItem xs="6">
                    <FluentLabel Typo="Typography.H5">Total</FluentLabel>
                </FluentGridItem>
                <FluentGridItem Typo="Typography.H5" xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">Amount</FluentLabel>
                </FluentGridItem>

                @* Gross *@
                <FluentGridItem xs="6">
                    <FluentLabel>Gross Pay</FluentLabel>
                </FluentGridItem>
                <FluentGridItem xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">@Content.GrossPayAmount.ToString("N2")</FluentLabel>
                </FluentGridItem>

                @* TotalDeductions *@
                <FluentGridItem xs="6">
                    <FluentLabel>Total Deductions</FluentLabel>
                </FluentGridItem>
                <FluentGridItem xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">@Content.TotalDeductions.ToString("N2")</FluentLabel>
                </FluentGridItem>

                @* NetAmount *@
                <FluentGridItem xs="6">
                    <FluentLabel>Net Pay</FluentLabel>
                </FluentGridItem>
                <FluentGridItem xs="6">
                    <FluentLabel Alignment="HorizontalAlignment.End">@Content.NetAmount.ToString("N2")</FluentLabel>
                </FluentGridItem>

            </FluentGrid>
        </FluentCard>    
    
    </FluentStack>

</FluentDialogBody>

@code {
    [Parameter]
    public PayrollDTO Content { get; set; } = default!;
}